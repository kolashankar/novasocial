{"dependencies":[{"name":"../../../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"3VKnEXkMY1ZNEkZ7qYjanQrdF3Y=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"storiesApi\", {\n    enumerable: true,\n    get: function () {\n      return storiesApi;\n    }\n  });\n  var _servicesApi = require(_dependencyMap[0], \"../../../services/api\");\n  class StoriesApiService {\n    async createStory(data) {\n      const response = await _servicesApi.api.post('/stories', data);\n      return response.data;\n    }\n    async getStoriesFeed(skip = 0, limit = 50) {\n      const response = await _servicesApi.api.get(`/stories/feed?skip=${skip}&limit=${limit}`);\n      return response.data;\n    }\n    async viewStory(storyId) {\n      const response = await _servicesApi.api.post(`/stories/${storyId}/view`);\n      return response.data;\n    }\n    async deleteStory(storyId) {\n      const response = await _servicesApi.api.delete(`/stories/${storyId}`);\n      return response.data;\n    }\n\n    // Helper method to group stories by author\n    groupStoriesByAuthor(stories) {\n      const grouped = stories.reduce((acc, story) => {\n        const authorId = story.authorId;\n        if (!acc[authorId]) {\n          acc[authorId] = {\n            author: story.author,\n            stories: [],\n            hasUnviewed: false\n          };\n        }\n        acc[authorId].stories.push(story);\n\n        // Check if story is unviewed (simplified - you might want to track this properly)\n        if (!story.viewers.length) {\n          acc[authorId].hasUnviewed = true;\n        }\n        return acc;\n      }, {});\n      return Object.values(grouped);\n    }\n  }\n  const storiesApi = new StoriesApiService();\n});","lineCount":55,"map":[[7,2,87,0,"Object"],[7,8,87,0],[7,9,87,0,"defineProperty"],[7,23,87,0],[7,24,87,0,"exports"],[7,31,87,0],[8,4,87,0,"enumerable"],[8,14,87,0],[9,4,87,0,"get"],[9,7,87,0],[9,18,87,0,"get"],[9,19,87,0],[10,6,87,0],[10,13,87,0,"storiesApi"],[10,23,87,0],[11,4,87,0],[12,2,87,0],[13,2,1,0],[13,6,1,0,"_servicesApi"],[13,18,1,0],[13,21,1,0,"require"],[13,28,1,0],[13,29,1,0,"_dependencyMap"],[13,43,1,0],[14,2,37,0],[14,8,37,6,"StoriesApiService"],[14,25,37,23],[14,26,37,24],[15,4,38,2],[15,10,38,8,"createStory"],[15,21,38,19,"createStory"],[15,22,38,20,"data"],[15,26,38,41],[15,28,38,59],[16,6,39,4],[16,12,39,10,"response"],[16,20,39,18],[16,23,39,21],[16,29,39,27,"api"],[16,41,39,30],[16,42,39,30,"api"],[16,45,39,30],[16,46,39,31,"post"],[16,50,39,35],[16,51,39,36],[16,61,39,46],[16,63,39,48,"data"],[16,67,39,52],[16,68,39,53],[17,6,40,4],[17,13,40,11,"response"],[17,21,40,19],[17,22,40,20,"data"],[17,26,40,24],[18,4,41,2],[19,4,43,2],[19,10,43,8,"getStoriesFeed"],[19,24,43,22,"getStoriesFeed"],[19,25,43,23,"skip"],[19,29,43,27],[19,32,43,30],[19,33,43,31],[19,35,43,33,"limit"],[19,40,43,38],[19,43,43,41],[19,45,43,43],[19,47,43,63],[20,6,44,4],[20,12,44,10,"response"],[20,20,44,18],[20,23,44,21],[20,29,44,27,"api"],[20,41,44,30],[20,42,44,30,"api"],[20,45,44,30],[20,46,44,31,"get"],[20,49,44,34],[20,50,44,35],[20,72,44,57,"skip"],[20,76,44,61],[20,86,44,71,"limit"],[20,91,44,76],[20,93,44,78],[20,94,44,79],[21,6,45,4],[21,13,45,11,"response"],[21,21,45,19],[21,22,45,20,"data"],[21,26,45,24],[22,4,46,2],[23,4,48,2],[23,10,48,8,"viewStory"],[23,19,48,17,"viewStory"],[23,20,48,18,"storyId"],[23,27,48,33],[23,29,48,65],[24,6,49,4],[24,12,49,10,"response"],[24,20,49,18],[24,23,49,21],[24,29,49,27,"api"],[24,41,49,30],[24,42,49,30,"api"],[24,45,49,30],[24,46,49,31,"post"],[24,50,49,35],[24,51,49,36],[24,63,49,48,"storyId"],[24,70,49,55],[24,77,49,62],[24,78,49,63],[25,6,50,4],[25,13,50,11,"response"],[25,21,50,19],[25,22,50,20,"data"],[25,26,50,24],[26,4,51,2],[27,4,53,2],[27,10,53,8,"deleteStory"],[27,21,53,19,"deleteStory"],[27,22,53,20,"storyId"],[27,29,53,35],[27,31,53,68],[28,6,54,4],[28,12,54,10,"response"],[28,20,54,18],[28,23,54,21],[28,29,54,27,"api"],[28,41,54,30],[28,42,54,30,"api"],[28,45,54,30],[28,46,54,31,"delete"],[28,52,54,37],[28,53,54,38],[28,65,54,50,"storyId"],[28,72,54,57],[28,74,54,59],[28,75,54,60],[29,6,55,4],[29,13,55,11,"response"],[29,21,55,19],[29,22,55,20,"data"],[29,26,55,24],[30,4,56,2],[32,4,58,2],[33,4,59,2,"groupStoriesByAuthor"],[33,24,59,22,"groupStoriesByAuthor"],[33,25,59,23,"stories"],[33,32,59,39],[33,34,63,5],[34,6,64,4],[34,12,64,10,"grouped"],[34,19,64,17],[34,22,64,20,"stories"],[34,29,64,27],[34,30,64,28,"reduce"],[34,36,64,34],[34,37,64,35],[34,38,64,36,"acc"],[34,41,64,39],[34,43,64,41,"story"],[34,48,64,46],[34,53,64,51],[35,8,65,6],[35,14,65,12,"authorId"],[35,22,65,20],[35,25,65,23,"story"],[35,30,65,28],[35,31,65,29,"authorId"],[35,39,65,37],[36,8,66,6],[36,12,66,10],[36,13,66,11,"acc"],[36,16,66,14],[36,17,66,15,"authorId"],[36,25,66,23],[36,26,66,24],[36,28,66,26],[37,10,67,8,"acc"],[37,13,67,11],[37,14,67,12,"authorId"],[37,22,67,20],[37,23,67,21],[37,26,67,24],[38,12,68,10,"author"],[38,18,68,16],[38,20,68,18,"story"],[38,25,68,23],[38,26,68,24,"author"],[38,32,68,30],[39,12,69,10,"stories"],[39,19,69,17],[39,21,69,19],[39,23,69,21],[40,12,70,10,"hasUnviewed"],[40,23,70,21],[40,25,70,23],[41,10,71,8],[41,11,71,9],[42,8,72,6],[43,8,73,6,"acc"],[43,11,73,9],[43,12,73,10,"authorId"],[43,20,73,18],[43,21,73,19],[43,22,73,20,"stories"],[43,29,73,27],[43,30,73,28,"push"],[43,34,73,32],[43,35,73,33,"story"],[43,40,73,38],[43,41,73,39],[45,8,75,6],[46,8,76,6],[46,12,76,10],[46,13,76,11,"story"],[46,18,76,16],[46,19,76,17,"viewers"],[46,26,76,24],[46,27,76,25,"length"],[46,33,76,31],[46,35,76,33],[47,10,77,8,"acc"],[47,13,77,11],[47,14,77,12,"authorId"],[47,22,77,20],[47,23,77,21],[47,24,77,22,"hasUnviewed"],[47,35,77,33],[47,38,77,36],[47,42,77,40],[48,8,78,6],[49,8,80,6],[49,15,80,13,"acc"],[49,18,80,16],[50,6,81,4],[50,7,81,5],[50,9,81,7],[50,10,81,8],[50,11,81,85],[50,12,81,86],[51,6,83,4],[51,13,83,11,"Object"],[51,19,83,17],[51,20,83,18,"values"],[51,26,83,24],[51,27,83,25,"grouped"],[51,34,83,32],[51,35,83,33],[52,4,84,2],[53,2,85,0],[54,2,87,7],[54,8,87,13,"storiesApi"],[54,18,87,23],[54,21,87,26],[54,25,87,30,"StoriesApiService"],[54,42,87,47],[54,43,87,48],[54,44,87,49],[55,0,87,50],[55,3]],"functionMap":{"names":["<global>","StoriesApiService","StoriesApiService#createStory","StoriesApiService#getStoriesFeed","StoriesApiService#viewStory","StoriesApiService#deleteStory","StoriesApiService#groupStoriesByAuthor","stories.reduce$argument_0"],"mappings":"AAA;ACoC;ECC;GDG;EEE;GFG;EGE;GHG;EIE;GJG;EKG;mCCK;KDiB;GLG;CDC"},"hasCjsExports":false},"type":"js/module"}]}