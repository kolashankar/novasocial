{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"runAtTargetFps\", {\n    enumerable: true,\n    get: function () {\n      return runAtTargetFps;\n    }\n  });\n  const _worklet_8194825293313_init_data = {\n    code: \"function getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1(frameProcessorFuncId){var _global$__frameProces,_global$__frameProces2;return(_global$__frameProces=(_global$__frameProces2=global.__frameProcessorRunAtTargetFpsMap)===null||_global$__frameProces2===void 0?void 0:_global$__frameProces2[frameProcessorFuncId])!==null&&_global$__frameProces!==void 0?_global$__frameProces:0;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"getLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs1\\\",\\\"frameProcessorFuncId\\\",\\\"_global$__frameProces\\\",\\\"_global$__frameProces2\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAAA,SAAAA,mEAAyDA,CAAAC,oBAAA,MAAAC,qBAAA,CAAAC,sBAAA,CAGvD,OAAAD,qBAAA,EAAAC,sBAAA,CAAOC,MAAM,CAACC,iCAAiC,UAAAF,sBAAA,iBAAxCA,sBAAA,CAA2CF,oBAAoB,CAAC,UAAAC,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAC9E\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  const getLastFrameProcessorCall = function () {\n    const _e = [new global.Error(), 1, -27];\n    const getLastFrameProcessorCall = function (frameProcessorFuncId) {\n      return global.__frameProcessorRunAtTargetFpsMap?.[frameProcessorFuncId] ?? 0;\n    };\n    getLastFrameProcessorCall.__closure = {};\n    getLastFrameProcessorCall.__workletHash = 8194825293313;\n    getLastFrameProcessorCall.__initData = _worklet_8194825293313_init_data;\n    getLastFrameProcessorCall.__stackDetails = _e;\n    return getLastFrameProcessorCall;\n  }();\n  const _worklet_4153016578430_init_data = {\n    code: \"function setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2(frameProcessorFuncId,value){if(global.__frameProcessorRunAtTargetFpsMap==null)global.__frameProcessorRunAtTargetFpsMap={};global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId]=value;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"setLastFrameProcessorCall_reactNativeVisionCamera_runAtTargetFpsJs2\\\",\\\"frameProcessorFuncId\\\",\\\"value\\\",\\\"global\\\",\\\"__frameProcessorRunAtTargetFpsMap\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAKA,SAAAA,mEAAgEA,CAAAC,oBAAA,CAAAC,KAAA,EAG9D,GAAIC,MAAM,CAACC,iCAAiC,EAAI,IAAI,CAAED,MAAM,CAACC,iCAAiC,CAAG,CAAC,CAAC,CACnGD,MAAM,CAACC,iCAAiC,CAACH,oBAAoB,CAAC,CAAGC,KAAK,CACxE\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  const setLastFrameProcessorCall = function () {\n    const _e = [new global.Error(), 1, -27];\n    const setLastFrameProcessorCall = function (frameProcessorFuncId, value) {\n      if (global.__frameProcessorRunAtTargetFpsMap == null) global.__frameProcessorRunAtTargetFpsMap = {};\n      global.__frameProcessorRunAtTargetFpsMap[frameProcessorFuncId] = value;\n    };\n    setLastFrameProcessorCall.__closure = {};\n    setLastFrameProcessorCall.__workletHash = 4153016578430;\n    setLastFrameProcessorCall.__initData = _worklet_4153016578430_init_data;\n    setLastFrameProcessorCall.__stackDetails = _e;\n    return setLastFrameProcessorCall;\n  }();\n  /**\n   * Runs the given {@linkcode func} at the given target {@linkcode fps} rate.\n   *\n   * {@linkcode runAtTargetFps} still executes the given {@linkcode func} synchronously,\n   * so this is only useful for throttling calls to a plugin or logger.\n   *\n   * For example, if you want to scan faces only once per second to avoid excessive\n   * CPU usage, use {@linkcode runAtTargetFps runAtTargetFps(1, ...)}.\n   *\n   * @param fps The target FPS rate at which the given function should be executed\n   * @param func The function to execute.\n   * @returns The result of the function if it was executed, or `undefined` otherwise.\n   * @worklet\n   * @example\n   *\n   * ```ts\n   * const frameProcessor = useFrameProcessor((frame) => {\n   *   'worklet'\n   *   console.log('New Frame')\n   *   runAtTargetFps(5, () => {\n   *     'worklet'\n   *     const faces = detectFaces(frame)\n   *     console.log(`Detected a new face: ${faces[0]}`)\n   *   })\n   * })\n   * ```\n   */\n  const _worklet_12248206927550_init_data = {\n    code: \"function runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3(fps,func){const{getLastFrameProcessorCall,setLastFrameProcessorCall}=this.__closure;var _func$__workletHash;const funcId=(_func$__workletHash=func.__workletHash)!==null&&_func$__workletHash!==void 0?_func$__workletHash:'1';const targetIntervalMs=1000/fps;const now=performance.now();const diffToLastCall=now-getLastFrameProcessorCall(funcId);if(diffToLastCall>=targetIntervalMs){setLastFrameProcessorCall(funcId,now);return func();}return undefined;}\",\n    location: \"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"runAtTargetFps_reactNativeVisionCamera_runAtTargetFpsJs3\\\",\\\"fps\\\",\\\"func\\\",\\\"getLastFrameProcessorCall\\\",\\\"setLastFrameProcessorCall\\\",\\\"__closure\\\",\\\"_func$__workletHash\\\",\\\"funcId\\\",\\\"__workletHash\\\",\\\"targetIntervalMs\\\",\\\"now\\\",\\\"performance\\\",\\\"diffToLastCall\\\",\\\"undefined\\\"],\\\"sources\\\":[\\\"/app/frontend/node_modules/react-native-vision-camera/lib/module/frame-processors/runAtTargetFps.js\\\"],\\\"mappings\\\":\\\"AAuCO,SAAAA,wDAAmCA,CAAAC,GAAA,CAAAC,IAAA,QAAAC,yBAAA,CAAAC,yBAAA,OAAAC,SAAA,KAAAC,mBAAA,CAKxC,KAAM,CAAAC,MAAM,EAAAD,mBAAA,CAAGJ,IAAI,CAACM,aAAa,UAAAF,mBAAA,UAAAA,mBAAA,CAAI,GAAG,CACxC,KAAM,CAAAG,gBAAgB,CAAG,IAAI,CAAGR,GAAG,CACnC,KAAM,CAAAS,GAAG,CAAGC,WAAW,CAACD,GAAG,CAAC,CAAC,CAC7B,KAAM,CAAAE,cAAc,CAAGF,GAAG,CAAGP,yBAAyB,CAACI,MAAM,CAAC,CAC9D,GAAIK,cAAc,EAAIH,gBAAgB,CAAE,CACtCL,yBAAyB,CAACG,MAAM,CAAEG,GAAG,CAAC,CAEtC,MAAO,CAAAR,IAAI,CAAC,CAAC,CACf,CACA,MAAO,CAAAW,SAAS,CAClB\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  const runAtTargetFps = function () {\n    const _e = [new global.Error(), -3, -27];\n    const runAtTargetFps = function (fps, func) {\n      // @ts-expect-error\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const funcId = func.__workletHash ?? '1';\n      const targetIntervalMs = 1000 / fps; // <-- 60 FPS => 16,6667ms interval\n      const now = performance.now();\n      const diffToLastCall = now - getLastFrameProcessorCall(funcId);\n      if (diffToLastCall >= targetIntervalMs) {\n        setLastFrameProcessorCall(funcId, now);\n        // Last Frame Processor call is already so long ago that we want to make a new call\n        return func();\n      }\n      return undefined;\n    };\n    runAtTargetFps.__closure = {\n      getLastFrameProcessorCall,\n      setLastFrameProcessorCall\n    };\n    runAtTargetFps.__workletHash = 12248206927550;\n    runAtTargetFps.__initData = _worklet_12248206927550_init_data;\n    runAtTargetFps.__stackDetails = _e;\n    return runAtTargetFps;\n  }();\n});","lineCount":106,"map":[[7,2,40,0,"Object"],[7,8,40,0],[7,9,40,0,"defineProperty"],[7,23,40,0],[7,24,40,0,"exports"],[7,31,40,0],[8,4,40,0,"enumerable"],[8,14,40,0],[9,4,40,0,"get"],[9,7,40,0],[9,18,40,0,"get"],[9,19,40,0],[10,6,40,0],[10,13,40,0,"runAtTargetFps"],[10,27,40,0],[11,4,40,0],[12,2,40,0],[13,2,55,1],[13,8,55,1,"_worklet_8194825293313_init_data"],[13,40,55,1],[14,4,55,1,"code"],[14,8,55,1],[15,4,55,1,"location"],[15,12,55,1],[16,4,55,1,"sourceMap"],[16,13,55,1],[17,4,55,1,"version"],[17,11,55,1],[18,2,55,1],[19,2,55,1],[19,8,55,1,"getLastFrameProcessorCall"],[19,33,55,1],[19,36,1,0],[20,4,1,0],[20,10,1,0,"_e"],[20,12,1,0],[20,20,1,0,"global"],[20,26,1,0],[20,27,1,0,"Error"],[20,32,1,0],[21,4,1,0],[21,10,1,0,"getLastFrameProcessorCall"],[21,35,1,0],[21,47,1,0,"getLastFrameProcessorCall"],[21,48,1,35,"frameProcessorFuncId"],[21,68,1,55],[21,70,1,57],[22,6,4,2],[22,13,4,9,"global"],[22,19,4,15],[22,20,4,16,"__frameProcessorRunAtTargetFpsMap"],[22,53,4,49],[22,56,4,52,"frameProcessorFuncId"],[22,76,4,72],[22,77,4,73],[22,81,4,77],[22,82,4,78],[23,4,5,0],[23,5,5,1],[24,4,5,1,"getLastFrameProcessorCall"],[24,29,5,1],[24,30,5,1,"__closure"],[24,39,5,1],[25,4,5,1,"getLastFrameProcessorCall"],[25,29,5,1],[25,30,5,1,"__workletHash"],[25,43,5,1],[26,4,5,1,"getLastFrameProcessorCall"],[26,29,5,1],[26,30,5,1,"__initData"],[26,40,5,1],[26,43,5,1,"_worklet_8194825293313_init_data"],[26,75,5,1],[27,4,5,1,"getLastFrameProcessorCall"],[27,29,5,1],[27,30,5,1,"__stackDetails"],[27,44,5,1],[27,47,5,1,"_e"],[27,49,5,1],[28,4,5,1],[28,11,5,1,"getLastFrameProcessorCall"],[28,36,5,1],[29,2,5,1],[29,3,1,0],[30,2,1,0],[30,8,1,0,"_worklet_4153016578430_init_data"],[30,40,1,0],[31,4,1,0,"code"],[31,8,1,0],[32,4,1,0,"location"],[32,12,1,0],[33,4,1,0,"sourceMap"],[33,13,1,0],[34,4,1,0,"version"],[34,11,1,0],[35,2,1,0],[36,2,1,0],[36,8,1,0,"setLastFrameProcessorCall"],[36,33,1,0],[36,36,6,0],[37,4,6,0],[37,10,6,0,"_e"],[37,12,6,0],[37,20,6,0,"global"],[37,26,6,0],[37,27,6,0,"Error"],[37,32,6,0],[38,4,6,0],[38,10,6,0,"setLastFrameProcessorCall"],[38,35,6,0],[38,47,6,0,"setLastFrameProcessorCall"],[38,48,6,35,"frameProcessorFuncId"],[38,68,6,55],[38,70,6,57,"value"],[38,75,6,62],[38,77,6,64],[39,6,9,2],[39,10,9,6,"global"],[39,16,9,12],[39,17,9,13,"__frameProcessorRunAtTargetFpsMap"],[39,50,9,46],[39,54,9,50],[39,58,9,54],[39,60,9,56,"global"],[39,66,9,62],[39,67,9,63,"__frameProcessorRunAtTargetFpsMap"],[39,100,9,96],[39,103,9,99],[39,104,9,100],[39,105,9,101],[40,6,10,2,"global"],[40,12,10,8],[40,13,10,9,"__frameProcessorRunAtTargetFpsMap"],[40,46,10,42],[40,47,10,43,"frameProcessorFuncId"],[40,67,10,63],[40,68,10,64],[40,71,10,67,"value"],[40,76,10,72],[41,4,11,0],[41,5,11,1],[42,4,11,1,"setLastFrameProcessorCall"],[42,29,11,1],[42,30,11,1,"__closure"],[42,39,11,1],[43,4,11,1,"setLastFrameProcessorCall"],[43,29,11,1],[43,30,11,1,"__workletHash"],[43,43,11,1],[44,4,11,1,"setLastFrameProcessorCall"],[44,29,11,1],[44,30,11,1,"__initData"],[44,40,11,1],[44,43,11,1,"_worklet_4153016578430_init_data"],[44,75,11,1],[45,4,11,1,"setLastFrameProcessorCall"],[45,29,11,1],[45,30,11,1,"__stackDetails"],[45,44,11,1],[45,47,11,1,"_e"],[45,49,11,1],[46,4,11,1],[46,11,11,1,"setLastFrameProcessorCall"],[46,36,11,1],[47,2,11,1],[47,3,6,0],[48,2,13,0],[49,0,14,0],[50,0,15,0],[51,0,16,0],[52,0,17,0],[53,0,18,0],[54,0,19,0],[55,0,20,0],[56,0,21,0],[57,0,22,0],[58,0,23,0],[59,0,24,0],[60,0,25,0],[61,0,26,0],[62,0,27,0],[63,0,28,0],[64,0,29,0],[65,0,30,0],[66,0,31,0],[67,0,32,0],[68,0,33,0],[69,0,34,0],[70,0,35,0],[71,0,36,0],[72,0,37,0],[73,0,38,0],[74,0,39,0],[75,2,13,0],[75,8,13,0,"_worklet_12248206927550_init_data"],[75,41,13,0],[76,4,13,0,"code"],[76,8,13,0],[77,4,13,0,"location"],[77,12,13,0],[78,4,13,0,"sourceMap"],[78,13,13,0],[79,4,13,0,"version"],[79,11,13,0],[80,2,13,0],[81,2,13,0],[81,8,13,0,"runAtTargetFps"],[81,22,13,0],[81,25,40,7],[82,4,40,7],[82,10,40,7,"_e"],[82,12,40,7],[82,20,40,7,"global"],[82,26,40,7],[82,27,40,7,"Error"],[82,32,40,7],[83,4,40,7],[83,10,40,7,"runAtTargetFps"],[83,24,40,7],[83,36,40,7,"runAtTargetFps"],[83,37,40,31,"fps"],[83,40,40,34],[83,42,40,36,"func"],[83,46,40,40],[83,48,40,42],[84,6,43,2],[85,6,44,2],[86,6,45,2],[86,12,45,8,"funcId"],[86,18,45,14],[86,21,45,17,"func"],[86,25,45,21],[86,26,45,22,"__workletHash"],[86,39,45,35],[86,43,45,39],[86,46,45,42],[87,6,46,2],[87,12,46,8,"targetIntervalMs"],[87,28,46,24],[87,31,46,27],[87,35,46,31],[87,38,46,34,"fps"],[87,41,46,37],[87,42,46,38],[87,43,46,39],[88,6,47,2],[88,12,47,8,"now"],[88,15,47,11],[88,18,47,14,"performance"],[88,29,47,25],[88,30,47,26,"now"],[88,33,47,29],[88,34,47,30],[88,35,47,31],[89,6,48,2],[89,12,48,8,"diffToLastCall"],[89,26,48,22],[89,29,48,25,"now"],[89,32,48,28],[89,35,48,31,"getLastFrameProcessorCall"],[89,60,48,56],[89,61,48,57,"funcId"],[89,67,48,63],[89,68,48,64],[90,6,49,2],[90,10,49,6,"diffToLastCall"],[90,24,49,20],[90,28,49,24,"targetIntervalMs"],[90,44,49,40],[90,46,49,42],[91,8,50,4,"setLastFrameProcessorCall"],[91,33,50,29],[91,34,50,30,"funcId"],[91,40,50,36],[91,42,50,38,"now"],[91,45,50,41],[91,46,50,42],[92,8,51,4],[93,8,52,4],[93,15,52,11,"func"],[93,19,52,15],[93,20,52,16],[93,21,52,17],[94,6,53,2],[95,6,54,2],[95,13,54,9,"undefined"],[95,22,54,18],[96,4,55,0],[96,5,55,1],[97,4,55,1,"runAtTargetFps"],[97,18,55,1],[97,19,55,1,"__closure"],[97,28,55,1],[98,6,55,1,"getLastFrameProcessorCall"],[98,31,55,1],[99,6,55,1,"setLastFrameProcessorCall"],[100,4,55,1],[101,4,55,1,"runAtTargetFps"],[101,18,55,1],[101,19,55,1,"__workletHash"],[101,32,55,1],[102,4,55,1,"runAtTargetFps"],[102,18,55,1],[102,19,55,1,"__initData"],[102,29,55,1],[102,32,55,1,"_worklet_12248206927550_init_data"],[102,65,55,1],[103,4,55,1,"runAtTargetFps"],[103,18,55,1],[103,19,55,1,"__stackDetails"],[103,33,55,1],[103,36,55,1,"_e"],[103,38,55,1],[104,4,55,1],[104,11,55,1,"runAtTargetFps"],[104,25,55,1],[105,2,55,1],[105,3,40,7],[106,0,40,7],[106,3]],"functionMap":{"names":["getLastFrameProcessorCall","<global>","setLastFrameProcessorCall","runAtTargetFps"],"mappings":"AAA;CCI;ACC;CDK;OE6B;CFe"},"hasCjsExports":false},"type":"js/module"}]}