{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-image-picker","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":49,"index":83}}],"key":"XQFgv2+WadF9xV+S67CI6D8lClA=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":84},"end":{"line":3,"column":37,"index":121}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useVideoUpload\", {\n    enumerable: true,\n    get: function () {\n      return useVideoUpload;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _expoImagePicker = require(_dependencyMap[3], \"expo-image-picker\");\n  var ImagePicker = _interopNamespace(_expoImagePicker);\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  var useVideoUpload = () => {\n    _s();\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n    var requestPermissions = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),\n          status = _yield$ImagePicker$re.status;\n        if (status !== 'granted') {\n          _reactNative.Alert.alert('Permission Required', 'Sorry, we need camera roll permissions to select videos.');\n          return false;\n        }\n        return true;\n      });\n      return function requestPermissions() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    var pickVideo = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setIsLoading(true);\n          var hasPermission = yield requestPermissions();\n          if (!hasPermission) return null;\n          var result = yield ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Videos,\n            allowsEditing: true,\n            quality: 1,\n            videoMaxDuration: 60 // 60 seconds max for reels\n          });\n          if (!result.canceled && result.assets[0]?.uri) {\n            return result.assets[0].uri;\n          }\n          return null;\n        } catch (error) {\n          console.error('Error picking video:', error);\n          _reactNative.Alert.alert('Error', 'Failed to pick video. Please try again.');\n          return null;\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function pickVideo() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var recordVideo = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          setIsLoading(true);\n          var _yield$ImagePicker$re2 = yield ImagePicker.requestCameraPermissionsAsync(),\n            status = _yield$ImagePicker$re2.status;\n          if (status !== 'granted') {\n            _reactNative.Alert.alert('Permission Required', 'Sorry, we need camera permissions to record videos.');\n            return null;\n          }\n          var result = yield ImagePicker.launchCameraAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Videos,\n            allowsEditing: true,\n            quality: 1,\n            videoMaxDuration: 60\n          });\n          if (!result.canceled && result.assets[0]?.uri) {\n            return result.assets[0].uri;\n          }\n          return null;\n        } catch (error) {\n          console.error('Error recording video:', error);\n          _reactNative.Alert.alert('Error', 'Failed to record video. Please try again.');\n          return null;\n        } finally {\n          setIsLoading(false);\n        }\n      });\n      return function recordVideo() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    return {\n      pickVideo,\n      recordVideo,\n      isLoading\n    };\n  };\n  _s(useVideoUpload, \"EmvgwIb3cHpoFpeP+WmEDbjx4y4=\");\n});","lineCount":129,"map":[[28,2,5,0,"Object"],[28,8,5,0],[28,9,5,0,"defineProperty"],[28,23,5,0],[28,24,5,0,"exports"],[28,31,5,0],[29,4,5,0,"enumerable"],[29,14,5,0],[30,4,5,0,"get"],[30,7,5,0],[30,18,5,0,"get"],[30,19,5,0],[31,6,5,0],[31,13,5,0,"useVideoUpload"],[31,27,5,0],[32,4,5,0],[33,2,5,0],[34,2,87,2],[34,6,87,2,"_babelRuntimeHelpersAsyncToGenerator"],[34,42,87,2],[34,45,87,2,"require"],[34,52,87,2],[34,53,87,2,"_dependencyMap"],[34,67,87,2],[35,2,87,2],[35,6,87,2,"_asyncToGenerator"],[35,23,87,2],[35,26,87,2,"_interopDefault"],[35,41,87,2],[35,42,87,2,"_babelRuntimeHelpersAsyncToGenerator"],[35,78,87,2],[36,2,87,2],[36,6,87,2,"_babelRuntimeHelpersSlicedToArray"],[36,39,87,2],[36,42,87,2,"require"],[36,49,87,2],[36,50,87,2,"_dependencyMap"],[36,64,87,2],[37,2,87,2],[37,6,87,2,"_slicedToArray"],[37,20,87,2],[37,23,87,2,"_interopDefault"],[37,38,87,2],[37,39,87,2,"_babelRuntimeHelpersSlicedToArray"],[37,72,87,2],[38,2,1,0],[38,6,1,0,"_react"],[38,12,1,0],[38,15,1,0,"require"],[38,22,1,0],[38,23,1,0,"_dependencyMap"],[38,37,1,0],[39,2,2,0],[39,6,2,0,"_expoImagePicker"],[39,22,2,0],[39,25,2,0,"require"],[39,32,2,0],[39,33,2,0,"_dependencyMap"],[39,47,2,0],[40,2,2,0],[40,6,2,0,"ImagePicker"],[40,17,2,0],[40,20,2,0,"_interopNamespace"],[40,37,2,0],[40,38,2,0,"_expoImagePicker"],[40,54,2,0],[41,2,3,0],[41,6,3,0,"_reactNative"],[41,18,3,0],[41,21,3,0,"require"],[41,28,3,0],[41,29,3,0,"_dependencyMap"],[41,43,3,0],[42,2,5,7],[42,6,5,13,"useVideoUpload"],[42,20,5,27],[42,23,5,30,"useVideoUpload"],[42,24,5,30],[42,29,5,36],[43,4,5,36,"_s"],[43,6,5,36],[44,4,6,2],[44,8,6,2,"_useState"],[44,17,6,2],[44,20,6,36],[44,24,6,36,"useState"],[44,30,6,44],[44,31,6,44,"useState"],[44,39,6,44],[44,41,6,45],[44,46,6,50],[44,47,6,51],[45,6,6,51,"_useState2"],[45,16,6,51],[45,23,6,51,"_slicedToArray"],[45,37,6,51],[45,38,6,51,"default"],[45,45,6,51],[45,47,6,51,"_useState"],[45,56,6,51],[46,6,6,9,"isLoading"],[46,15,6,18],[46,18,6,18,"_useState2"],[46,28,6,18],[47,6,6,20,"setIsLoading"],[47,18,6,32],[47,21,6,32,"_useState2"],[47,31,6,32],[48,4,8,2],[48,8,8,8,"requestPermissions"],[48,26,8,26],[49,6,8,26],[49,10,8,26,"_ref"],[49,14,8,26],[49,21,8,26,"_asyncToGenerator"],[49,38,8,26],[49,39,8,26,"default"],[49,46,8,26],[49,48,8,29],[49,61,8,41],[50,8,9,4],[50,12,9,4,"_yield$ImagePicker$re"],[50,33,9,4],[50,42,9,29,"ImagePicker"],[50,53,9,40],[50,54,9,41,"requestMediaLibraryPermissionsAsync"],[50,89,9,76],[50,90,9,77],[50,91,9,78],[51,10,9,12,"status"],[51,16,9,18],[51,19,9,18,"_yield$ImagePicker$re"],[51,40,9,18],[51,41,9,12,"status"],[51,47,9,18],[52,8,10,4],[52,12,10,8,"status"],[52,18,10,14],[52,23,10,19],[52,32,10,28],[52,34,10,30],[53,10,11,6,"Alert"],[53,22,11,11],[53,23,11,11,"Alert"],[53,28,11,11],[53,29,11,12,"alert"],[53,34,11,17],[53,35,12,8],[53,56,12,29],[53,58,13,8],[53,116,14,6],[53,117,14,7],[54,10,15,6],[54,17,15,13],[54,22,15,18],[55,8,16,4],[56,8,17,4],[56,15,17,11],[56,19,17,15],[57,6,18,2],[57,7,18,3],[58,6,18,3],[58,22,8,8,"requestPermissions"],[58,40,8,26,"requestPermissions"],[58,41,8,26],[59,8,8,26],[59,15,8,26,"_ref"],[59,19,8,26],[59,20,8,26,"apply"],[59,25,8,26],[59,32,8,26,"arguments"],[59,41,8,26],[60,6,8,26],[61,4,8,26],[61,7,18,3],[62,4,20,2],[62,8,20,8,"pickVideo"],[62,17,20,17],[63,6,20,17],[63,10,20,17,"_ref2"],[63,15,20,17],[63,22,20,17,"_asyncToGenerator"],[63,39,20,17],[63,40,20,17,"default"],[63,47,20,17],[63,49,20,20],[63,62,20,56],[64,8,21,4],[64,12,21,8],[65,10,22,6,"setIsLoading"],[65,22,22,18],[65,23,22,19],[65,27,22,23],[65,28,22,24],[66,10,24,6],[66,14,24,12,"hasPermission"],[66,27,24,25],[66,36,24,34,"requestPermissions"],[66,54,24,52],[66,55,24,53],[66,56,24,54],[67,10,25,6],[67,14,25,10],[67,15,25,11,"hasPermission"],[67,28,25,24],[67,30,25,26],[67,37,25,33],[67,41,25,37],[68,10,27,6],[68,14,27,12,"result"],[68,20,27,18],[68,29,27,27,"ImagePicker"],[68,40,27,38],[68,41,27,39,"launchImageLibraryAsync"],[68,64,27,62],[68,65,27,63],[69,12,28,8,"mediaTypes"],[69,22,28,18],[69,24,28,20,"ImagePicker"],[69,35,28,31],[69,36,28,32,"MediaTypeOptions"],[69,52,28,48],[69,53,28,49,"Videos"],[69,59,28,55],[70,12,29,8,"allowsEditing"],[70,25,29,21],[70,27,29,23],[70,31,29,27],[71,12,30,8,"quality"],[71,19,30,15],[71,21,30,17],[71,22,30,18],[72,12,31,8,"videoMaxDuration"],[72,28,31,24],[72,30,31,26],[72,32,31,28],[72,33,31,30],[73,10,32,6],[73,11,32,7],[73,12,32,8],[74,10,34,6],[74,14,34,10],[74,15,34,11,"result"],[74,21,34,17],[74,22,34,18,"canceled"],[74,30,34,26],[74,34,34,30,"result"],[74,40,34,36],[74,41,34,37,"assets"],[74,47,34,43],[74,48,34,44],[74,49,34,45],[74,50,34,46],[74,52,34,48,"uri"],[74,55,34,51],[74,57,34,53],[75,12,35,8],[75,19,35,15,"result"],[75,25,35,21],[75,26,35,22,"assets"],[75,32,35,28],[75,33,35,29],[75,34,35,30],[75,35,35,31],[75,36,35,32,"uri"],[75,39,35,35],[76,10,36,6],[77,10,38,6],[77,17,38,13],[77,21,38,17],[78,8,39,4],[78,9,39,5],[78,10,39,6],[78,17,39,13,"error"],[78,22,39,18],[78,24,39,20],[79,10,40,6,"console"],[79,17,40,13],[79,18,40,14,"error"],[79,23,40,19],[79,24,40,20],[79,46,40,42],[79,48,40,44,"error"],[79,53,40,49],[79,54,40,50],[80,10,41,6,"Alert"],[80,22,41,11],[80,23,41,11,"Alert"],[80,28,41,11],[80,29,41,12,"alert"],[80,34,41,17],[80,35,41,18],[80,42,41,25],[80,44,41,27],[80,85,41,68],[80,86,41,69],[81,10,42,6],[81,17,42,13],[81,21,42,17],[82,8,43,4],[82,9,43,5],[82,18,43,14],[83,10,44,6,"setIsLoading"],[83,22,44,18],[83,23,44,19],[83,28,44,24],[83,29,44,25],[84,8,45,4],[85,6,46,2],[85,7,46,3],[86,6,46,3],[86,22,20,8,"pickVideo"],[86,31,20,17,"pickVideo"],[86,32,20,17],[87,8,20,17],[87,15,20,17,"_ref2"],[87,20,20,17],[87,21,20,17,"apply"],[87,26,20,17],[87,33,20,17,"arguments"],[87,42,20,17],[88,6,20,17],[89,4,20,17],[89,7,46,3],[90,4,48,2],[90,8,48,8,"recordVideo"],[90,19,48,19],[91,6,48,19],[91,10,48,19,"_ref3"],[91,15,48,19],[91,22,48,19,"_asyncToGenerator"],[91,39,48,19],[91,40,48,19,"default"],[91,47,48,19],[91,49,48,22],[91,62,48,58],[92,8,49,4],[92,12,49,8],[93,10,50,6,"setIsLoading"],[93,22,50,18],[93,23,50,19],[93,27,50,23],[93,28,50,24],[94,10,52,6],[94,14,52,6,"_yield$ImagePicker$re2"],[94,36,52,6],[94,45,52,31,"ImagePicker"],[94,56,52,42],[94,57,52,43,"requestCameraPermissionsAsync"],[94,86,52,72],[94,87,52,73],[94,88,52,74],[95,12,52,14,"status"],[95,18,52,20],[95,21,52,20,"_yield$ImagePicker$re2"],[95,43,52,20],[95,44,52,14,"status"],[95,50,52,20],[96,10,53,6],[96,14,53,10,"status"],[96,20,53,16],[96,25,53,21],[96,34,53,30],[96,36,53,32],[97,12,54,8,"Alert"],[97,24,54,13],[97,25,54,13,"Alert"],[97,30,54,13],[97,31,54,14,"alert"],[97,36,54,19],[97,37,55,10],[97,58,55,31],[97,60,56,10],[97,113,57,8],[97,114,57,9],[98,12,58,8],[98,19,58,15],[98,23,58,19],[99,10,59,6],[100,10,61,6],[100,14,61,12,"result"],[100,20,61,18],[100,29,61,27,"ImagePicker"],[100,40,61,38],[100,41,61,39,"launchCameraAsync"],[100,58,61,56],[100,59,61,57],[101,12,62,8,"mediaTypes"],[101,22,62,18],[101,24,62,20,"ImagePicker"],[101,35,62,31],[101,36,62,32,"MediaTypeOptions"],[101,52,62,48],[101,53,62,49,"Videos"],[101,59,62,55],[102,12,63,8,"allowsEditing"],[102,25,63,21],[102,27,63,23],[102,31,63,27],[103,12,64,8,"quality"],[103,19,64,15],[103,21,64,17],[103,22,64,18],[104,12,65,8,"videoMaxDuration"],[104,28,65,24],[104,30,65,26],[105,10,66,6],[105,11,66,7],[105,12,66,8],[106,10,68,6],[106,14,68,10],[106,15,68,11,"result"],[106,21,68,17],[106,22,68,18,"canceled"],[106,30,68,26],[106,34,68,30,"result"],[106,40,68,36],[106,41,68,37,"assets"],[106,47,68,43],[106,48,68,44],[106,49,68,45],[106,50,68,46],[106,52,68,48,"uri"],[106,55,68,51],[106,57,68,53],[107,12,69,8],[107,19,69,15,"result"],[107,25,69,21],[107,26,69,22,"assets"],[107,32,69,28],[107,33,69,29],[107,34,69,30],[107,35,69,31],[107,36,69,32,"uri"],[107,39,69,35],[108,10,70,6],[109,10,72,6],[109,17,72,13],[109,21,72,17],[110,8,73,4],[110,9,73,5],[110,10,73,6],[110,17,73,13,"error"],[110,22,73,18],[110,24,73,20],[111,10,74,6,"console"],[111,17,74,13],[111,18,74,14,"error"],[111,23,74,19],[111,24,74,20],[111,48,74,44],[111,50,74,46,"error"],[111,55,74,51],[111,56,74,52],[112,10,75,6,"Alert"],[112,22,75,11],[112,23,75,11,"Alert"],[112,28,75,11],[112,29,75,12,"alert"],[112,34,75,17],[112,35,75,18],[112,42,75,25],[112,44,75,27],[112,87,75,70],[112,88,75,71],[113,10,76,6],[113,17,76,13],[113,21,76,17],[114,8,77,4],[114,9,77,5],[114,18,77,14],[115,10,78,6,"setIsLoading"],[115,22,78,18],[115,23,78,19],[115,28,78,24],[115,29,78,25],[116,8,79,4],[117,6,80,2],[117,7,80,3],[118,6,80,3],[118,22,48,8,"recordVideo"],[118,33,48,19,"recordVideo"],[118,34,48,19],[119,8,48,19],[119,15,48,19,"_ref3"],[119,20,48,19],[119,21,48,19,"apply"],[119,26,48,19],[119,33,48,19,"arguments"],[119,42,48,19],[120,6,48,19],[121,4,48,19],[121,7,80,3],[122,4,82,2],[122,11,82,9],[123,6,83,4,"pickVideo"],[123,15,83,13],[124,6,84,4,"recordVideo"],[124,17,84,15],[125,6,85,4,"isLoading"],[126,4,86,2],[126,5,86,3],[127,2,87,0],[127,3,87,1],[128,2,87,2,"_s"],[128,4,87,2],[128,5,5,13,"useVideoUpload"],[128,19,5,27],[129,0,5,27],[129,3]],"functionMap":{"names":["<global>","useVideoUpload","requestPermissions","pickVideo","recordVideo"],"mappings":"AAA;8BCI;6BCG;GDU;oBEE;GF0B;sBGE;GHgC;CDO"},"hasCjsExports":false},"type":"js/module"}]}