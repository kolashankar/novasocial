{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../errors/ErrorMessages","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"APtQ1ObkEMvvpKEHNjwmitGcEgw=","exportNames":["*"],"imports":1}},{"name":"./roundToDecimalPlaces","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":57},"end":{"line":2,"column":62,"index":119}}],"key":"9r1C8fjaPHF+hWAH+UtzKSV2H1Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"JSFPSMonitor\", {\n    enumerable: true,\n    get: function () {\n      return JSFPSMonitor;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _errorsErrorMessages = require(_dependencyMap[2], \"../errors/ErrorMessages\");\n  var _roundToDecimalPlaces = require(_dependencyMap[3], \"./roundToDecimalPlaces\");\n  /**\n   * Can be used to monitor JS thread performance\n   * Use startTracking() and stopAndGetData() to start and stop tracking\n   */\n  var JSFPSMonitor = /*#__PURE__*/function () {\n    function JSFPSMonitor() {\n      (0, _classCallCheck.default)(this, JSFPSMonitor);\n      this.startTime = 0;\n      this.frameCount = 0;\n      this.timeWindow = {\n        frameCount: 0,\n        startTime: 0\n      };\n      this.minFPS = Number.MAX_SAFE_INTEGER;\n      this.maxFPS = 0;\n      this.averageFPS = 0;\n      this.clearAnimationNumber = 0;\n      this.updateLoopCompute = () => {\n        this.frameCount++;\n        var elapsedTime = (Date.now() - this.startTime) / 1000;\n        this.averageFPS = elapsedTime > 0 ? this.frameCount / elapsedTime : 0;\n        this.timeWindow.frameCount++;\n        var timeWindowElapsedTime = (Date.now() - this.timeWindow.startTime) / 1000;\n        if (timeWindowElapsedTime >= 1) {\n          var timeWindowAverageFPS = this.timeWindow.frameCount / timeWindowElapsedTime;\n          this.minFPS = Math.min(this.minFPS, timeWindowAverageFPS);\n          this.maxFPS = Math.max(this.maxFPS, timeWindowAverageFPS);\n          this.timeWindow.frameCount = 0;\n          this.timeWindow.startTime = Date.now();\n        }\n        this.measureLoop();\n      };\n    }\n    return (0, _createClass.default)(JSFPSMonitor, [{\n      key: \"measureLoop\",\n      value: function measureLoop() {\n        // This looks weird but I'm avoiding a new closure\n        this.clearAnimationNumber = requestAnimationFrame(this.updateLoopCompute);\n      }\n    }, {\n      key: \"startTracking\",\n      value: function startTracking() {\n        if (this.startTime !== 0) {\n          throw new Error(_errorsErrorMessages.ErrorMessages.fpsMonitorAlreadyRunning);\n        }\n        this.startTime = Date.now();\n        this.timeWindow.startTime = Date.now();\n        this.measureLoop();\n      }\n    }, {\n      key: \"stopAndGetData\",\n      value: function stopAndGetData() {\n        cancelAnimationFrame(this.clearAnimationNumber);\n        if (this.minFPS === Number.MAX_SAFE_INTEGER) {\n          this.minFPS = this.averageFPS;\n          this.maxFPS = this.averageFPS;\n        }\n        return {\n          minFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.minFPS, 1),\n          maxFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.maxFPS, 1),\n          averageFPS: (0, _roundToDecimalPlaces.roundToDecimalPlaces)(this.averageFPS, 1)\n        };\n      }\n    }]);\n  }();\n});","lineCount":89,"map":[[12,2,7,0,"Object"],[12,8,7,0],[12,9,7,0,"defineProperty"],[12,23,7,0],[12,24,7,0,"exports"],[12,31,7,0],[13,4,7,0,"enumerable"],[13,14,7,0],[14,4,7,0,"get"],[14,7,7,0],[14,18,7,0,"get"],[14,19,7,0],[15,6,7,0],[15,13,7,0,"JSFPSMonitor"],[15,25,7,0],[16,4,7,0],[17,2,7,0],[18,2,59,1],[18,6,59,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,59,1],[18,43,59,1,"require"],[18,50,59,1],[18,51,59,1,"_dependencyMap"],[18,65,59,1],[19,2,59,1],[19,6,59,1,"_classCallCheck"],[19,21,59,1],[19,24,59,1,"_interopDefault"],[19,39,59,1],[19,40,59,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,59,1],[20,2,59,1],[20,6,59,1,"_babelRuntimeHelpersCreateClass"],[20,37,59,1],[20,40,59,1,"require"],[20,47,59,1],[20,48,59,1,"_dependencyMap"],[20,62,59,1],[21,2,59,1],[21,6,59,1,"_createClass"],[21,18,59,1],[21,21,59,1,"_interopDefault"],[21,36,59,1],[21,37,59,1,"_babelRuntimeHelpersCreateClass"],[21,68,59,1],[22,2,1,0],[22,6,1,0,"_errorsErrorMessages"],[22,26,1,0],[22,29,1,0,"require"],[22,36,1,0],[22,37,1,0,"_dependencyMap"],[22,51,1,0],[23,2,2,0],[23,6,2,0,"_roundToDecimalPlaces"],[23,27,2,0],[23,30,2,0,"require"],[23,37,2,0],[23,38,2,0,"_dependencyMap"],[23,52,2,0],[24,2,3,0],[25,0,4,0],[26,0,5,0],[27,0,6,0],[28,2,3,0],[28,6,7,13,"JSFPSMonitor"],[28,18,7,25],[29,4,8,4],[29,13,8,4,"JSFPSMonitor"],[29,26,8,4],[29,28,8,18],[30,6,8,18],[30,10,8,18,"_classCallCheck"],[30,25,8,18],[30,26,8,18,"default"],[30,33,8,18],[30,41,8,18,"JSFPSMonitor"],[30,53,8,18],[31,6,9,8],[31,10,9,12],[31,11,9,13,"startTime"],[31,20,9,22],[31,23,9,25],[31,24,9,26],[32,6,10,8],[32,10,10,12],[32,11,10,13,"frameCount"],[32,21,10,23],[32,24,10,26],[32,25,10,27],[33,6,11,8],[33,10,11,12],[33,11,11,13,"timeWindow"],[33,21,11,23],[33,24,11,26],[34,8,12,12,"frameCount"],[34,18,12,22],[34,20,12,24],[34,21,12,25],[35,8,13,12,"startTime"],[35,17,13,21],[35,19,13,23],[36,6,14,8],[36,7,14,9],[37,6,15,8],[37,10,15,12],[37,11,15,13,"minFPS"],[37,17,15,19],[37,20,15,22,"Number"],[37,26,15,28],[37,27,15,29,"MAX_SAFE_INTEGER"],[37,43,15,45],[38,6,16,8],[38,10,16,12],[38,11,16,13,"maxFPS"],[38,17,16,19],[38,20,16,22],[38,21,16,23],[39,6,17,8],[39,10,17,12],[39,11,17,13,"averageFPS"],[39,21,17,23],[39,24,17,26],[39,25,17,27],[40,6,18,8],[40,10,18,12],[40,11,18,13,"clearAnimationNumber"],[40,31,18,33],[40,34,18,36],[40,35,18,37],[41,6,19,8],[41,10,19,12],[41,11,19,13,"updateLoopCompute"],[41,28,19,30],[41,31,19,33],[41,37,19,39],[42,8,20,12],[42,12,20,16],[42,13,20,17,"frameCount"],[42,23,20,27],[42,25,20,29],[43,8,21,12],[43,12,21,18,"elapsedTime"],[43,23,21,29],[43,26,21,32],[43,27,21,33,"Date"],[43,31,21,37],[43,32,21,38,"now"],[43,35,21,41],[43,36,21,42],[43,37,21,43],[43,40,21,46],[43,44,21,50],[43,45,21,51,"startTime"],[43,54,21,60],[43,58,21,64],[43,62,21,68],[44,8,22,12],[44,12,22,16],[44,13,22,17,"averageFPS"],[44,23,22,27],[44,26,22,30,"elapsedTime"],[44,37,22,41],[44,40,22,44],[44,41,22,45],[44,44,22,48],[44,48,22,52],[44,49,22,53,"frameCount"],[44,59,22,63],[44,62,22,66,"elapsedTime"],[44,73,22,77],[44,76,22,80],[44,77,22,81],[45,8,23,12],[45,12,23,16],[45,13,23,17,"timeWindow"],[45,23,23,27],[45,24,23,28,"frameCount"],[45,34,23,38],[45,36,23,40],[46,8,24,12],[46,12,24,18,"timeWindowElapsedTime"],[46,33,24,39],[46,36,24,42],[46,37,24,43,"Date"],[46,41,24,47],[46,42,24,48,"now"],[46,45,24,51],[46,46,24,52],[46,47,24,53],[46,50,24,56],[46,54,24,60],[46,55,24,61,"timeWindow"],[46,65,24,71],[46,66,24,72,"startTime"],[46,75,24,81],[46,79,24,85],[46,83,24,89],[47,8,25,12],[47,12,25,16,"timeWindowElapsedTime"],[47,33,25,37],[47,37,25,41],[47,38,25,42],[47,40,25,44],[48,10,26,16],[48,14,26,22,"timeWindowAverageFPS"],[48,34,26,42],[48,37,26,45],[48,41,26,49],[48,42,26,50,"timeWindow"],[48,52,26,60],[48,53,26,61,"frameCount"],[48,63,26,71],[48,66,26,74,"timeWindowElapsedTime"],[48,87,26,95],[49,10,27,16],[49,14,27,20],[49,15,27,21,"minFPS"],[49,21,27,27],[49,24,27,30,"Math"],[49,28,27,34],[49,29,27,35,"min"],[49,32,27,38],[49,33,27,39],[49,37,27,43],[49,38,27,44,"minFPS"],[49,44,27,50],[49,46,27,52,"timeWindowAverageFPS"],[49,66,27,72],[49,67,27,73],[50,10,28,16],[50,14,28,20],[50,15,28,21,"maxFPS"],[50,21,28,27],[50,24,28,30,"Math"],[50,28,28,34],[50,29,28,35,"max"],[50,32,28,38],[50,33,28,39],[50,37,28,43],[50,38,28,44,"maxFPS"],[50,44,28,50],[50,46,28,52,"timeWindowAverageFPS"],[50,66,28,72],[50,67,28,73],[51,10,29,16],[51,14,29,20],[51,15,29,21,"timeWindow"],[51,25,29,31],[51,26,29,32,"frameCount"],[51,36,29,42],[51,39,29,45],[51,40,29,46],[52,10,30,16],[52,14,30,20],[52,15,30,21,"timeWindow"],[52,25,30,31],[52,26,30,32,"startTime"],[52,35,30,41],[52,38,30,44,"Date"],[52,42,30,48],[52,43,30,49,"now"],[52,46,30,52],[52,47,30,53],[52,48,30,54],[53,8,31,12],[54,8,32,12],[54,12,32,16],[54,13,32,17,"measureLoop"],[54,24,32,28],[54,25,32,29],[54,26,32,30],[55,6,33,8],[55,7,33,9],[56,4,34,4],[57,4,34,5],[57,15,34,5,"_createClass"],[57,27,34,5],[57,28,34,5,"default"],[57,35,34,5],[57,37,34,5,"JSFPSMonitor"],[57,49,34,5],[58,6,34,5,"key"],[58,9,34,5],[59,6,34,5,"value"],[59,11,34,5],[59,13,35,4],[59,22,35,4,"measureLoop"],[59,33,35,15,"measureLoop"],[59,34,35,15],[59,36,35,18],[60,8,36,8],[61,8,37,8],[61,12,37,12],[61,13,37,13,"clearAnimationNumber"],[61,33,37,33],[61,36,37,36,"requestAnimationFrame"],[61,57,37,57],[61,58,37,58],[61,62,37,62],[61,63,37,63,"updateLoopCompute"],[61,80,37,80],[61,81,37,81],[62,6,38,4],[63,4,38,5],[64,6,38,5,"key"],[64,9,38,5],[65,6,38,5,"value"],[65,11,38,5],[65,13,39,4],[65,22,39,4,"startTracking"],[65,35,39,17,"startTracking"],[65,36,39,17],[65,38,39,20],[66,8,40,8],[66,12,40,12],[66,16,40,16],[66,17,40,17,"startTime"],[66,26,40,26],[66,31,40,31],[66,32,40,32],[66,34,40,34],[67,10,41,12],[67,16,41,18],[67,20,41,22,"Error"],[67,25,41,27],[67,26,41,28,"ErrorMessages"],[67,46,41,41],[67,47,41,41,"ErrorMessages"],[67,60,41,41],[67,61,41,42,"fpsMonitorAlreadyRunning"],[67,85,41,66],[67,86,41,67],[68,8,42,8],[69,8,43,8],[69,12,43,12],[69,13,43,13,"startTime"],[69,22,43,22],[69,25,43,25,"Date"],[69,29,43,29],[69,30,43,30,"now"],[69,33,43,33],[69,34,43,34],[69,35,43,35],[70,8,44,8],[70,12,44,12],[70,13,44,13,"timeWindow"],[70,23,44,23],[70,24,44,24,"startTime"],[70,33,44,33],[70,36,44,36,"Date"],[70,40,44,40],[70,41,44,41,"now"],[70,44,44,44],[70,45,44,45],[70,46,44,46],[71,8,45,8],[71,12,45,12],[71,13,45,13,"measureLoop"],[71,24,45,24],[71,25,45,25],[71,26,45,26],[72,6,46,4],[73,4,46,5],[74,6,46,5,"key"],[74,9,46,5],[75,6,46,5,"value"],[75,11,46,5],[75,13,47,4],[75,22,47,4,"stopAndGetData"],[75,36,47,18,"stopAndGetData"],[75,37,47,18],[75,39,47,21],[76,8,48,8,"cancelAnimationFrame"],[76,28,48,28],[76,29,48,29],[76,33,48,33],[76,34,48,34,"clearAnimationNumber"],[76,54,48,54],[76,55,48,55],[77,8,49,8],[77,12,49,12],[77,16,49,16],[77,17,49,17,"minFPS"],[77,23,49,23],[77,28,49,28,"Number"],[77,34,49,34],[77,35,49,35,"MAX_SAFE_INTEGER"],[77,51,49,51],[77,53,49,53],[78,10,50,12],[78,14,50,16],[78,15,50,17,"minFPS"],[78,21,50,23],[78,24,50,26],[78,28,50,30],[78,29,50,31,"averageFPS"],[78,39,50,41],[79,10,51,12],[79,14,51,16],[79,15,51,17,"maxFPS"],[79,21,51,23],[79,24,51,26],[79,28,51,30],[79,29,51,31,"averageFPS"],[79,39,51,41],[80,8,52,8],[81,8,53,8],[81,15,53,15],[82,10,54,12,"minFPS"],[82,16,54,18],[82,18,54,20],[82,22,54,20,"roundToDecimalPlaces"],[82,43,54,40],[82,44,54,40,"roundToDecimalPlaces"],[82,64,54,40],[82,66,54,41],[82,70,54,45],[82,71,54,46,"minFPS"],[82,77,54,52],[82,79,54,54],[82,80,54,55],[82,81,54,56],[83,10,55,12,"maxFPS"],[83,16,55,18],[83,18,55,20],[83,22,55,20,"roundToDecimalPlaces"],[83,43,55,40],[83,44,55,40,"roundToDecimalPlaces"],[83,64,55,40],[83,66,55,41],[83,70,55,45],[83,71,55,46,"maxFPS"],[83,77,55,52],[83,79,55,54],[83,80,55,55],[83,81,55,56],[84,10,56,12,"averageFPS"],[84,20,56,22],[84,22,56,24],[84,26,56,24,"roundToDecimalPlaces"],[84,47,56,44],[84,48,56,44,"roundToDecimalPlaces"],[84,68,56,44],[84,70,56,45],[84,74,56,49],[84,75,56,50,"averageFPS"],[84,85,56,60],[84,87,56,62],[84,88,56,63],[85,8,57,8],[85,9,57,9],[86,6,58,4],[87,4,58,5],[88,2,58,5],[89,0,58,5],[89,3]],"functionMap":{"names":["<global>","JSFPSMonitor","constructor","updateLoopCompute","measureLoop","startTracking","stopAndGetData"],"mappings":"AAA;OCM;ICC;iCCW;SDc;KDC;IGC;KHG;IIC;KJO;IKC;KLW;CDC"},"hasCjsExports":false},"type":"js/module"}]}