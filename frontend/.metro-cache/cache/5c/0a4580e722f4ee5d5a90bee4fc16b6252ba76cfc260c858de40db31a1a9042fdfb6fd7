{"dependencies":[{"name":"../NativeCameraModule","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":26,"index":142},"end":{"line":7,"column":58,"index":174}}],"key":"tbZ/UPApNwZ6qHX9FKSs+w8iWXU=","exportNames":["*"],"imports":1}},{"name":"./FrameProcessorsUnavailableError","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":39,"index":215},"end":{"line":8,"column":83,"index":259}}],"key":"OJsVqJTQyEgOCJhejOnxd4h1UlM=","exportNames":["*"],"imports":1}},{"name":"react-native-worklets-core","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":2,"index":480},"end":{"line":17,"column":39,"index":517}}],"key":"Qf8lQmHIYzsLNbcKKbJevkIpf40=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.VisionCameraProxy = void 0;\n  var _NativeCameraModule = require(_dependencyMap[0], \"../NativeCameraModule\");\n  var _FrameProcessorsUnavailableError = require(_dependencyMap[1], \"./FrameProcessorsUnavailableError\");\n  /**\n   * An initialized native instance of a FrameProcessorPlugin.\n   * All memory allocated by this plugin will be deleted once this value goes out of scope.\n   */\n\n  let proxy;\n  try {\n    // 1. Load react-native-worklets-core\n    require(_dependencyMap[2], \"react-native-worklets-core\");\n    // 2. If react-native-worklets-core could be loaded, try to install Frame Processor bindings\n    const result = _NativeCameraModule.CameraModule.installFrameProcessorBindings();\n    if (result !== true) throw new Error(`Failed to install Frame Processor JSI bindings! installFrameProcessorBindings() returned ${result}`);\n\n    // 3. Get global.VisionCameraProxy which was just installed by installFrameProcessorBindings()\n    // @ts-expect-error it's a global JSI variable injected by native\n    const globalProxy = global.VisionCameraProxy;\n    if (globalProxy == null) throw new Error('global.VisionCameraProxy is not installed! Was installFrameProcessorBindings() called?');\n    proxy = globalProxy;\n  } catch (e) {\n    // global.VisionCameraProxy is not injected!\n    // Just use dummy implementations that will throw when the user tries to use Frame Processors.\n    proxy = {\n      initFrameProcessorPlugin: () => {\n        throw new _FrameProcessorsUnavailableError.FrameProcessorsUnavailableError(e);\n      },\n      removeFrameProcessor: () => {\n        throw new _FrameProcessorsUnavailableError.FrameProcessorsUnavailableError(e);\n      },\n      setFrameProcessor: () => {\n        throw new _FrameProcessorsUnavailableError.FrameProcessorsUnavailableError(e);\n      },\n      workletContext: undefined\n    };\n  }\n\n  /**\n   * The JSI Proxy for the Frame Processors Runtime.\n   *\n   * This will be replaced with a CxxTurboModule in the future.\n   */\n  const VisionCameraProxy = exports.VisionCameraProxy = proxy;\n});","lineCount":51,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,2,5,0],[6,3,5,1],[6,4,5,2],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"VisionCameraProxy"],[7,27,6,25],[7,30,6,28],[7,35,6,33],[7,36,6,34],[8,2,7,0],[8,6,7,4,"_NativeCameraModule"],[8,25,7,23],[8,28,7,26,"require"],[8,35,7,33],[8,36,7,33,"_dependencyMap"],[8,50,7,33],[8,78,7,57],[8,79,7,58],[9,2,8,0],[9,6,8,4,"_FrameProcessorsUnavailableError"],[9,38,8,36],[9,41,8,39,"require"],[9,48,8,46],[9,49,8,46,"_dependencyMap"],[9,63,8,46],[9,103,8,82],[9,104,8,83],[10,2,9,0],[11,0,10,0],[12,0,11,0],[13,0,12,0],[15,2,14,0],[15,6,14,4,"proxy"],[15,11,14,9],[16,2,15,0],[16,6,15,4],[17,4,16,2],[18,4,17,2,"require"],[18,11,17,9],[18,12,17,9,"_dependencyMap"],[18,26,17,9],[18,59,17,38],[18,60,17,39],[19,4,18,2],[20,4,19,2],[20,10,19,8,"result"],[20,16,19,14],[20,19,19,17,"_NativeCameraModule"],[20,38,19,36],[20,39,19,37,"CameraModule"],[20,51,19,49],[20,52,19,50,"installFrameProcessorBindings"],[20,81,19,79],[20,82,19,80],[20,83,19,81],[21,4,20,2],[21,8,20,6,"result"],[21,14,20,12],[21,19,20,17],[21,23,20,21],[21,25,20,23],[21,31,20,29],[21,35,20,33,"Error"],[21,40,20,38],[21,41,20,39],[21,133,20,131,"result"],[21,139,20,137],[21,141,20,139],[21,142,20,140],[23,4,22,2],[24,4,23,2],[25,4,24,2],[25,10,24,8,"globalProxy"],[25,21,24,19],[25,24,24,22,"global"],[25,30,24,28],[25,31,24,29,"VisionCameraProxy"],[25,48,24,46],[26,4,25,2],[26,8,25,6,"globalProxy"],[26,19,25,17],[26,23,25,21],[26,27,25,25],[26,29,25,27],[26,35,25,33],[26,39,25,37,"Error"],[26,44,25,42],[26,45,25,43],[26,133,25,131],[26,134,25,132],[27,4,26,2,"proxy"],[27,9,26,7],[27,12,26,10,"globalProxy"],[27,23,26,21],[28,2,27,0],[28,3,27,1],[28,4,27,2],[28,11,27,9,"e"],[28,12,27,10],[28,14,27,12],[29,4,28,2],[30,4,29,2],[31,4,30,2,"proxy"],[31,9,30,7],[31,12,30,10],[32,6,31,4,"initFrameProcessorPlugin"],[32,30,31,28],[32,32,31,30,"initFrameProcessorPlugin"],[32,33,31,30],[32,38,31,36],[33,8,32,6],[33,14,32,12],[33,18,32,16,"_FrameProcessorsUnavailableError"],[33,50,32,48],[33,51,32,49,"FrameProcessorsUnavailableError"],[33,82,32,80],[33,83,32,81,"e"],[33,84,32,82],[33,85,32,83],[34,6,33,4],[34,7,33,5],[35,6,34,4,"removeFrameProcessor"],[35,26,34,24],[35,28,34,26,"removeFrameProcessor"],[35,29,34,26],[35,34,34,32],[36,8,35,6],[36,14,35,12],[36,18,35,16,"_FrameProcessorsUnavailableError"],[36,50,35,48],[36,51,35,49,"FrameProcessorsUnavailableError"],[36,82,35,80],[36,83,35,81,"e"],[36,84,35,82],[36,85,35,83],[37,6,36,4],[37,7,36,5],[38,6,37,4,"setFrameProcessor"],[38,23,37,21],[38,25,37,23,"setFrameProcessor"],[38,26,37,23],[38,31,37,29],[39,8,38,6],[39,14,38,12],[39,18,38,16,"_FrameProcessorsUnavailableError"],[39,50,38,48],[39,51,38,49,"FrameProcessorsUnavailableError"],[39,82,38,80],[39,83,38,81,"e"],[39,84,38,82],[39,85,38,83],[40,6,39,4],[40,7,39,5],[41,6,40,4,"workletContext"],[41,20,40,18],[41,22,40,20,"undefined"],[42,4,41,2],[42,5,41,3],[43,2,42,0],[45,2,44,0],[46,0,45,0],[47,0,46,0],[48,0,47,0],[49,0,48,0],[50,2,49,0],[50,8,49,6,"VisionCameraProxy"],[50,25,49,23],[50,28,49,26,"exports"],[50,35,49,33],[50,36,49,34,"VisionCameraProxy"],[50,53,49,51],[50,56,49,54,"proxy"],[50,61,49,59],[51,0,49,60],[51,3]],"functionMap":{"names":["<global>","proxy.initFrameProcessorPlugin","proxy.removeFrameProcessor","proxy.setFrameProcessor"],"mappings":"AAA;8BC8B;KDE;0BEC;KFE;uBGC;KHE"},"hasCjsExports":true},"type":"js/module"}]}