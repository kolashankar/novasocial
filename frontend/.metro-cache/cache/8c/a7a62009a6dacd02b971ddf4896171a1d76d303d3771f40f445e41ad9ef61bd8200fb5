{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../../../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"3VKnEXkMY1ZNEkZ7qYjanQrdF3Y=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"storiesApi\", {\n    enumerable: true,\n    get: function () {\n      return storiesApi;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _servicesApi = require(_dependencyMap[3], \"../../../services/api\");\n  var StoriesApiService = /*#__PURE__*/function () {\n    function StoriesApiService() {\n      (0, _classCallCheck.default)(this, StoriesApiService);\n    }\n    return (0, _createClass.default)(StoriesApiService, [{\n      key: \"createStory\",\n      value: function () {\n        var _createStory = (0, _asyncToGenerator.default)(function* (data) {\n          var response = yield _servicesApi.api.post('/stories', data);\n          return response.data;\n        });\n        function createStory(_x) {\n          return _createStory.apply(this, arguments);\n        }\n        return createStory;\n      }()\n    }, {\n      key: \"getStoriesFeed\",\n      value: function () {\n        var _getStoriesFeed = (0, _asyncToGenerator.default)(function* () {\n          var skip = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n          var response = yield _servicesApi.api.get(`/stories/feed?skip=${skip}&limit=${limit}`);\n          return response.data;\n        });\n        function getStoriesFeed() {\n          return _getStoriesFeed.apply(this, arguments);\n        }\n        return getStoriesFeed;\n      }()\n    }, {\n      key: \"viewStory\",\n      value: function () {\n        var _viewStory = (0, _asyncToGenerator.default)(function* (storyId) {\n          var response = yield _servicesApi.api.post(`/stories/${storyId}/view`);\n          return response.data;\n        });\n        function viewStory(_x2) {\n          return _viewStory.apply(this, arguments);\n        }\n        return viewStory;\n      }()\n    }, {\n      key: \"deleteStory\",\n      value: function () {\n        var _deleteStory = (0, _asyncToGenerator.default)(function* (storyId) {\n          var response = yield _servicesApi.api.delete(`/stories/${storyId}`);\n          return response.data;\n        });\n        function deleteStory(_x3) {\n          return _deleteStory.apply(this, arguments);\n        }\n        return deleteStory;\n      }() // Helper method to group stories by author\n    }, {\n      key: \"groupStoriesByAuthor\",\n      value: function groupStoriesByAuthor(stories) {\n        var grouped = stories.reduce((acc, story) => {\n          var authorId = story.authorId;\n          if (!acc[authorId]) {\n            acc[authorId] = {\n              author: story.author,\n              stories: [],\n              hasUnviewed: false\n            };\n          }\n          acc[authorId].stories.push(story);\n\n          // Check if story is unviewed (simplified - you might want to track this properly)\n          if (!story.viewers.length) {\n            acc[authorId].hasUnviewed = true;\n          }\n          return acc;\n        }, {});\n        return Object.values(grouped);\n      }\n    }]);\n  }();\n  var storiesApi = new StoriesApiService();\n});","lineCount":104,"map":[[12,2,87,0,"Object"],[12,8,87,0],[12,9,87,0,"defineProperty"],[12,23,87,0],[12,24,87,0,"exports"],[12,31,87,0],[13,4,87,0,"enumerable"],[13,14,87,0],[14,4,87,0,"get"],[14,7,87,0],[14,18,87,0,"get"],[14,19,87,0],[15,6,87,0],[15,13,87,0,"storiesApi"],[15,23,87,0],[16,4,87,0],[17,2,87,0],[18,2,87,50],[18,6,87,50,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,87,50],[18,45,87,50,"require"],[18,52,87,50],[18,53,87,50,"_dependencyMap"],[18,67,87,50],[19,2,87,50],[19,6,87,50,"_asyncToGenerator"],[19,23,87,50],[19,26,87,50,"_interopDefault"],[19,41,87,50],[19,42,87,50,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,87,50],[20,2,87,50],[20,6,87,50,"_babelRuntimeHelpersClassCallCheck"],[20,40,87,50],[20,43,87,50,"require"],[20,50,87,50],[20,51,87,50,"_dependencyMap"],[20,65,87,50],[21,2,87,50],[21,6,87,50,"_classCallCheck"],[21,21,87,50],[21,24,87,50,"_interopDefault"],[21,39,87,50],[21,40,87,50,"_babelRuntimeHelpersClassCallCheck"],[21,74,87,50],[22,2,87,50],[22,6,87,50,"_babelRuntimeHelpersCreateClass"],[22,37,87,50],[22,40,87,50,"require"],[22,47,87,50],[22,48,87,50,"_dependencyMap"],[22,62,87,50],[23,2,87,50],[23,6,87,50,"_createClass"],[23,18,87,50],[23,21,87,50,"_interopDefault"],[23,36,87,50],[23,37,87,50,"_babelRuntimeHelpersCreateClass"],[23,68,87,50],[24,2,1,0],[24,6,1,0,"_servicesApi"],[24,18,1,0],[24,21,1,0,"require"],[24,28,1,0],[24,29,1,0,"_dependencyMap"],[24,43,1,0],[25,2,1,44],[25,6,37,6,"StoriesApiService"],[25,23,37,23],[26,4,37,23],[26,13,37,23,"StoriesApiService"],[26,31,37,23],[27,6,37,23],[27,10,37,23,"_classCallCheck"],[27,25,37,23],[27,26,37,23,"default"],[27,33,37,23],[27,41,37,23,"StoriesApiService"],[27,58,37,23],[28,4,37,23],[29,4,37,23],[29,15,37,23,"_createClass"],[29,27,37,23],[29,28,37,23,"default"],[29,35,37,23],[29,37,37,23,"StoriesApiService"],[29,54,37,23],[30,6,37,23,"key"],[30,9,37,23],[31,6,37,23,"value"],[31,11,37,23],[32,8,37,23],[32,12,37,23,"_createStory"],[32,24,37,23],[32,31,37,23,"_asyncToGenerator"],[32,48,37,23],[32,49,37,23,"default"],[32,56,37,23],[32,58,38,2],[32,69,38,20,"data"],[32,73,38,41],[32,75,38,59],[33,10,39,4],[33,14,39,10,"response"],[33,22,39,18],[33,31,39,27,"api"],[33,43,39,30],[33,44,39,30,"api"],[33,47,39,30],[33,48,39,31,"post"],[33,52,39,35],[33,53,39,36],[33,63,39,46],[33,65,39,48,"data"],[33,69,39,52],[33,70,39,53],[34,10,40,4],[34,17,40,11,"response"],[34,25,40,19],[34,26,40,20,"data"],[34,30,40,24],[35,8,41,2],[35,9,41,3],[36,8,41,3],[36,17,38,8,"createStory"],[36,28,38,19,"createStory"],[36,29,38,19,"_x"],[36,31,38,19],[37,10,38,19],[37,17,38,19,"_createStory"],[37,29,38,19],[37,30,38,19,"apply"],[37,35,38,19],[37,42,38,19,"arguments"],[37,51,38,19],[38,8,38,19],[39,8,38,19],[39,15,38,8,"createStory"],[39,26,38,19],[40,6,38,19],[41,4,38,19],[42,6,38,19,"key"],[42,9,38,19],[43,6,38,19,"value"],[43,11,38,19],[44,8,38,19],[44,12,38,19,"_getStoriesFeed"],[44,27,38,19],[44,34,38,19,"_asyncToGenerator"],[44,51,38,19],[44,52,38,19,"default"],[44,59,38,19],[44,61,43,2],[44,74,43,63],[45,10,43,63],[45,14,43,23,"skip"],[45,18,43,27],[45,21,43,27,"arguments"],[45,30,43,27],[45,31,43,27,"length"],[45,37,43,27],[45,45,43,27,"arguments"],[45,54,43,27],[45,62,43,27,"undefined"],[45,71,43,27],[45,74,43,27,"arguments"],[45,83,43,27],[45,89,43,30],[45,90,43,31],[46,10,43,31],[46,14,43,33,"limit"],[46,19,43,38],[46,22,43,38,"arguments"],[46,31,43,38],[46,32,43,38,"length"],[46,38,43,38],[46,46,43,38,"arguments"],[46,55,43,38],[46,63,43,38,"undefined"],[46,72,43,38],[46,75,43,38,"arguments"],[46,84,43,38],[46,90,43,41],[46,92,43,43],[47,10,44,4],[47,14,44,10,"response"],[47,22,44,18],[47,31,44,27,"api"],[47,43,44,30],[47,44,44,30,"api"],[47,47,44,30],[47,48,44,31,"get"],[47,51,44,34],[47,52,44,35],[47,74,44,57,"skip"],[47,78,44,61],[47,88,44,71,"limit"],[47,93,44,76],[47,95,44,78],[47,96,44,79],[48,10,45,4],[48,17,45,11,"response"],[48,25,45,19],[48,26,45,20,"data"],[48,30,45,24],[49,8,46,2],[49,9,46,3],[50,8,46,3],[50,17,43,8,"getStoriesFeed"],[50,31,43,22,"getStoriesFeed"],[50,32,43,22],[51,10,43,22],[51,17,43,22,"_getStoriesFeed"],[51,32,43,22],[51,33,43,22,"apply"],[51,38,43,22],[51,45,43,22,"arguments"],[51,54,43,22],[52,8,43,22],[53,8,43,22],[53,15,43,8,"getStoriesFeed"],[53,29,43,22],[54,6,43,22],[55,4,43,22],[56,6,43,22,"key"],[56,9,43,22],[57,6,43,22,"value"],[57,11,43,22],[58,8,43,22],[58,12,43,22,"_viewStory"],[58,22,43,22],[58,29,43,22,"_asyncToGenerator"],[58,46,43,22],[58,47,43,22,"default"],[58,54,43,22],[58,56,48,2],[58,67,48,18,"storyId"],[58,74,48,33],[58,76,48,65],[59,10,49,4],[59,14,49,10,"response"],[59,22,49,18],[59,31,49,27,"api"],[59,43,49,30],[59,44,49,30,"api"],[59,47,49,30],[59,48,49,31,"post"],[59,52,49,35],[59,53,49,36],[59,65,49,48,"storyId"],[59,72,49,55],[59,79,49,62],[59,80,49,63],[60,10,50,4],[60,17,50,11,"response"],[60,25,50,19],[60,26,50,20,"data"],[60,30,50,24],[61,8,51,2],[61,9,51,3],[62,8,51,3],[62,17,48,8,"viewStory"],[62,26,48,17,"viewStory"],[62,27,48,17,"_x2"],[62,30,48,17],[63,10,48,17],[63,17,48,17,"_viewStory"],[63,27,48,17],[63,28,48,17,"apply"],[63,33,48,17],[63,40,48,17,"arguments"],[63,49,48,17],[64,8,48,17],[65,8,48,17],[65,15,48,8,"viewStory"],[65,24,48,17],[66,6,48,17],[67,4,48,17],[68,6,48,17,"key"],[68,9,48,17],[69,6,48,17,"value"],[69,11,48,17],[70,8,48,17],[70,12,48,17,"_deleteStory"],[70,24,48,17],[70,31,48,17,"_asyncToGenerator"],[70,48,48,17],[70,49,48,17,"default"],[70,56,48,17],[70,58,53,2],[70,69,53,20,"storyId"],[70,76,53,35],[70,78,53,68],[71,10,54,4],[71,14,54,10,"response"],[71,22,54,18],[71,31,54,27,"api"],[71,43,54,30],[71,44,54,30,"api"],[71,47,54,30],[71,48,54,31,"delete"],[71,54,54,37],[71,55,54,38],[71,67,54,50,"storyId"],[71,74,54,57],[71,76,54,59],[71,77,54,60],[72,10,55,4],[72,17,55,11,"response"],[72,25,55,19],[72,26,55,20,"data"],[72,30,55,24],[73,8,56,2],[73,9,56,3],[74,8,56,3],[74,17,53,8,"deleteStory"],[74,28,53,19,"deleteStory"],[74,29,53,19,"_x3"],[74,32,53,19],[75,10,53,19],[75,17,53,19,"_deleteStory"],[75,29,53,19],[75,30,53,19,"apply"],[75,35,53,19],[75,42,53,19,"arguments"],[75,51,53,19],[76,8,53,19],[77,8,53,19],[77,15,53,8,"deleteStory"],[77,26,53,19],[78,6,53,19],[78,10,58,2],[79,4,58,2],[80,6,58,2,"key"],[80,9,58,2],[81,6,58,2,"value"],[81,11,58,2],[81,13,59,2],[81,22,59,2,"groupStoriesByAuthor"],[81,42,59,22,"groupStoriesByAuthor"],[81,43,59,23,"stories"],[81,50,59,39],[81,52,63,5],[82,8,64,4],[82,12,64,10,"grouped"],[82,19,64,17],[82,22,64,20,"stories"],[82,29,64,27],[82,30,64,28,"reduce"],[82,36,64,34],[82,37,64,35],[82,38,64,36,"acc"],[82,41,64,39],[82,43,64,41,"story"],[82,48,64,46],[82,53,64,51],[83,10,65,6],[83,14,65,12,"authorId"],[83,22,65,20],[83,25,65,23,"story"],[83,30,65,28],[83,31,65,29,"authorId"],[83,39,65,37],[84,10,66,6],[84,14,66,10],[84,15,66,11,"acc"],[84,18,66,14],[84,19,66,15,"authorId"],[84,27,66,23],[84,28,66,24],[84,30,66,26],[85,12,67,8,"acc"],[85,15,67,11],[85,16,67,12,"authorId"],[85,24,67,20],[85,25,67,21],[85,28,67,24],[86,14,68,10,"author"],[86,20,68,16],[86,22,68,18,"story"],[86,27,68,23],[86,28,68,24,"author"],[86,34,68,30],[87,14,69,10,"stories"],[87,21,69,17],[87,23,69,19],[87,25,69,21],[88,14,70,10,"hasUnviewed"],[88,25,70,21],[88,27,70,23],[89,12,71,8],[89,13,71,9],[90,10,72,6],[91,10,73,6,"acc"],[91,13,73,9],[91,14,73,10,"authorId"],[91,22,73,18],[91,23,73,19],[91,24,73,20,"stories"],[91,31,73,27],[91,32,73,28,"push"],[91,36,73,32],[91,37,73,33,"story"],[91,42,73,38],[91,43,73,39],[93,10,75,6],[94,10,76,6],[94,14,76,10],[94,15,76,11,"story"],[94,20,76,16],[94,21,76,17,"viewers"],[94,28,76,24],[94,29,76,25,"length"],[94,35,76,31],[94,37,76,33],[95,12,77,8,"acc"],[95,15,77,11],[95,16,77,12,"authorId"],[95,24,77,20],[95,25,77,21],[95,26,77,22,"hasUnviewed"],[95,37,77,33],[95,40,77,36],[95,44,77,40],[96,10,78,6],[97,10,80,6],[97,17,80,13,"acc"],[97,20,80,16],[98,8,81,4],[98,9,81,5],[98,11,81,7],[98,12,81,8],[98,13,81,85],[98,14,81,86],[99,8,83,4],[99,15,83,11,"Object"],[99,21,83,17],[99,22,83,18,"values"],[99,28,83,24],[99,29,83,25,"grouped"],[99,36,83,32],[99,37,83,33],[100,6,84,2],[101,4,84,3],[102,2,84,3],[103,2,87,7],[103,6,87,13,"storiesApi"],[103,16,87,23],[103,19,87,26],[103,23,87,30,"StoriesApiService"],[103,40,87,47],[103,41,87,48],[103,42,87,49],[104,0,87,50],[104,3]],"functionMap":{"names":["<global>","StoriesApiService","StoriesApiService#createStory","StoriesApiService#getStoriesFeed","StoriesApiService#viewStory","StoriesApiService#deleteStory","StoriesApiService#groupStoriesByAuthor","stories.reduce$argument_0"],"mappings":"AAA;ACoC;ECC;GDG;EEE;GFG;EGE;GHG;EIE;GJG;EKG;mCCK;KDiB;GLG;CDC"},"hasCjsExports":false},"type":"js/module"}]}