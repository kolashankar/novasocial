{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":64,"index":64}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./RecyclerViewContextProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":65},"end":{"line":2,"column":101,"index":166}}],"key":"xkzKodpiEh9PM1d4t93OubNRFfg=","exportNames":["*"],"imports":1}},{"name":"./hooks/useLayoutState","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":167},"end":{"line":3,"column":56,"index":223}}],"key":"Vcep8FqPfs/hXqg5S+FWbcib3GA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"LayoutCommitObserver\", {\n    enumerable: true,\n    get: function () {\n      return LayoutCommitObserver;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var React = _interopDefault(_react);\n  var _RecyclerViewContextProvider = require(_dependencyMap[2], \"./RecyclerViewContextProvider\");\n  var _hooksUseLayoutState = require(_dependencyMap[3], \"./hooks/useLayoutState\");\n  /**\n   * LayoutCommitObserver can be used to observe when FlashList commits a layout.\n   * It is useful when your component has one or more FlashLists somewhere down the tree.\n   * LayoutCommitObserver will trigger `onCommitLayoutEffect` when all of the FlashLists in the tree have finished their first commit.\n   */\n  var LayoutCommitObserver = /*#__PURE__*/React.default.memo(props => {\n    var children = props.children,\n      onCommitLayoutEffect = props.onCommitLayoutEffect;\n    var parentRecyclerViewContext = (0, _RecyclerViewContextProvider.useRecyclerViewContext)();\n    var _useLayoutState = (0, _hooksUseLayoutState.useLayoutState)(0),\n      _useLayoutState2 = (0, _slicedToArray.default)(_useLayoutState, 2),\n      _ = _useLayoutState2[0],\n      setRenderId = _useLayoutState2[1];\n    var pendingChildIds = (0, _react.useRef)(new Set()).current;\n    (0, _react.useLayoutEffect)(() => {\n      if (pendingChildIds.size > 0) {\n        return;\n      }\n      onCommitLayoutEffect === null || onCommitLayoutEffect === void 0 ? void 0 : onCommitLayoutEffect();\n    });\n    // Create context for child components\n    var recyclerViewContext = (0, _react.useMemo)(() => {\n      return {\n        layout: () => {\n          setRenderId(prev => prev + 1);\n        },\n        getRef: () => {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentRef: () => {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getParentScrollViewRef: () => {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getParentScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        getScrollViewRef: () => {\n          var _a;\n          return (_a = parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.getScrollViewRef()) !== null && _a !== void 0 ? _a : null;\n        },\n        markChildLayoutAsPending: id => {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.markChildLayoutAsPending(id);\n          pendingChildIds.add(id);\n        },\n        unmarkChildLayoutAsPending: id => {\n          parentRecyclerViewContext === null || parentRecyclerViewContext === void 0 ? void 0 : parentRecyclerViewContext.unmarkChildLayoutAsPending(id);\n          if (pendingChildIds.has(id)) {\n            pendingChildIds.delete(id);\n            recyclerViewContext.layout();\n          }\n        }\n      };\n    }, [parentRecyclerViewContext, pendingChildIds, setRenderId]);\n    return /*#__PURE__*/React.default.createElement(_RecyclerViewContextProvider.RecyclerViewContextProvider, {\n      value: recyclerViewContext\n    }, children);\n  });\n  LayoutCommitObserver.displayName = \"LayoutCommitObserver\";\n});","lineCount":84,"map":[[12,2,9,0,"Object"],[12,8,9,0],[12,9,9,0,"defineProperty"],[12,23,9,0],[12,24,9,0,"exports"],[12,31,9,0],[13,4,9,0,"enumerable"],[13,14,9,0],[14,4,9,0,"get"],[14,7,9,0],[14,18,9,0,"get"],[14,19,9,0],[15,6,9,0],[15,13,9,0,"LayoutCommitObserver"],[15,33,9,0],[16,4,9,0],[17,2,9,0],[18,2,56,3],[18,6,56,3,"_babelRuntimeHelpersSlicedToArray"],[18,39,56,3],[18,42,56,3,"require"],[18,49,56,3],[18,50,56,3,"_dependencyMap"],[18,64,56,3],[19,2,56,3],[19,6,56,3,"_slicedToArray"],[19,20,56,3],[19,23,56,3,"_interopDefault"],[19,38,56,3],[19,39,56,3,"_babelRuntimeHelpersSlicedToArray"],[19,72,56,3],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,1,0],[21,6,1,0,"React"],[21,11,1,0],[21,14,1,0,"_interopDefault"],[21,29,1,0],[21,30,1,0,"_react"],[21,36,1,0],[22,2,2,0],[22,6,2,0,"_RecyclerViewContextProvider"],[22,34,2,0],[22,37,2,0,"require"],[22,44,2,0],[22,45,2,0,"_dependencyMap"],[22,59,2,0],[23,2,3,0],[23,6,3,0,"_hooksUseLayoutState"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,2,9,7],[29,6,9,13,"LayoutCommitObserver"],[29,26,9,33],[29,42,9,36,"React"],[29,47,9,41],[29,48,9,41,"default"],[29,55,9,41],[29,56,9,42,"memo"],[29,60,9,46],[29,61,9,48,"props"],[29,66,9,53],[29,70,9,58],[30,4,10,4],[30,8,10,12,"children"],[30,16,10,20],[30,19,10,47,"props"],[30,24,10,52],[30,25,10,12,"children"],[30,33,10,20],[31,6,10,22,"onCommitLayoutEffect"],[31,26,10,42],[31,29,10,47,"props"],[31,34,10,52],[31,35,10,22,"onCommitLayoutEffect"],[31,55,10,42],[32,4,11,4],[32,8,11,10,"parentRecyclerViewContext"],[32,33,11,35],[32,36,11,38],[32,40,11,38,"useRecyclerViewContext"],[32,68,11,60],[32,69,11,60,"useRecyclerViewContext"],[32,91,11,60],[32,93,11,61],[32,94,11,62],[33,4,12,4],[33,8,12,4,"_useLayoutState"],[33,23,12,4],[33,26,12,29],[33,30,12,29,"useLayoutState"],[33,50,12,43],[33,51,12,43,"useLayoutState"],[33,65,12,43],[33,67,12,44],[33,68,12,45],[33,69,12,46],[34,6,12,46,"_useLayoutState2"],[34,22,12,46],[34,29,12,46,"_slicedToArray"],[34,43,12,46],[34,44,12,46,"default"],[34,51,12,46],[34,53,12,46,"_useLayoutState"],[34,68,12,46],[35,6,12,11,"_"],[35,7,12,12],[35,10,12,12,"_useLayoutState2"],[35,26,12,12],[36,6,12,14,"setRenderId"],[36,17,12,25],[36,20,12,25,"_useLayoutState2"],[36,36,12,25],[37,4,13,4],[37,8,13,10,"pendingChildIds"],[37,23,13,25],[37,26,13,28],[37,30,13,28,"useRef"],[37,36,13,34],[37,37,13,34,"useRef"],[37,43,13,34],[37,45,13,35],[37,49,13,39,"Set"],[37,52,13,42],[37,53,13,43],[37,54,13,44],[37,55,13,45],[37,56,13,46,"current"],[37,63,13,53],[38,4,14,4],[38,8,14,4,"useLayoutEffect"],[38,14,14,19],[38,15,14,19,"useLayoutEffect"],[38,30,14,19],[38,32,14,20],[38,38,14,26],[39,6,15,8],[39,10,15,12,"pendingChildIds"],[39,25,15,27],[39,26,15,28,"size"],[39,30,15,32],[39,33,15,35],[39,34,15,36],[39,36,15,38],[40,8,16,12],[41,6,17,8],[42,6,18,8,"onCommitLayoutEffect"],[42,26,18,28],[42,31,18,33],[42,35,18,37],[42,39,18,41,"onCommitLayoutEffect"],[42,59,18,61],[42,64,18,66],[42,69,18,71],[42,70,18,72],[42,73,18,75],[42,78,18,80],[42,79,18,81],[42,82,18,84,"onCommitLayoutEffect"],[42,102,18,104],[42,103,18,105],[42,104,18,106],[43,4,19,4],[43,5,19,5],[43,6,19,6],[44,4,20,4],[45,4,21,4],[45,8,21,10,"recyclerViewContext"],[45,27,21,29],[45,30,21,32],[45,34,21,32,"useMemo"],[45,40,21,39],[45,41,21,39,"useMemo"],[45,48,21,39],[45,50,21,40],[45,56,21,46],[46,6,22,8],[46,13,22,15],[47,8,23,12,"layout"],[47,14,23,18],[47,16,23,20,"layout"],[47,17,23,20],[47,22,23,26],[48,10,24,16,"setRenderId"],[48,21,24,27],[48,22,24,29,"prev"],[48,26,24,33],[48,30,24,38,"prev"],[48,34,24,42],[48,37,24,45],[48,38,24,46],[48,39,24,47],[49,8,25,12],[49,9,25,13],[50,8,26,12,"getRef"],[50,14,26,18],[50,16,26,20,"getRef"],[50,17,26,20],[50,22,26,26],[51,10,27,16],[51,14,27,20,"_a"],[51,16,27,22],[52,10,28,16],[52,17,28,23],[52,18,28,24,"_a"],[52,20,28,26],[52,23,28,29,"parentRecyclerViewContext"],[52,48,28,54],[52,53,28,59],[52,57,28,63],[52,61,28,67,"parentRecyclerViewContext"],[52,86,28,92],[52,91,28,97],[52,96,28,102],[52,97,28,103],[52,100,28,106],[52,105,28,111],[52,106,28,112],[52,109,28,115,"parentRecyclerViewContext"],[52,134,28,140],[52,135,28,141,"getRef"],[52,141,28,147],[52,142,28,148],[52,143,28,149],[52,149,28,155],[52,153,28,159],[52,157,28,163,"_a"],[52,159,28,165],[52,164,28,170],[52,169,28,175],[52,170,28,176],[52,173,28,179,"_a"],[52,175,28,181],[52,178,28,184],[52,182,28,188],[53,8,29,12],[53,9,29,13],[54,8,30,12,"getParentRef"],[54,20,30,24],[54,22,30,26,"getParentRef"],[54,23,30,26],[54,28,30,32],[55,10,31,16],[55,14,31,20,"_a"],[55,16,31,22],[56,10,32,16],[56,17,32,23],[56,18,32,24,"_a"],[56,20,32,26],[56,23,32,29,"parentRecyclerViewContext"],[56,48,32,54],[56,53,32,59],[56,57,32,63],[56,61,32,67,"parentRecyclerViewContext"],[56,86,32,92],[56,91,32,97],[56,96,32,102],[56,97,32,103],[56,100,32,106],[56,105,32,111],[56,106,32,112],[56,109,32,115,"parentRecyclerViewContext"],[56,134,32,140],[56,135,32,141,"getParentRef"],[56,147,32,153],[56,148,32,154],[56,149,32,155],[56,155,32,161],[56,159,32,165],[56,163,32,169,"_a"],[56,165,32,171],[56,170,32,176],[56,175,32,181],[56,176,32,182],[56,179,32,185,"_a"],[56,181,32,187],[56,184,32,190],[56,188,32,194],[57,8,33,12],[57,9,33,13],[58,8,34,12,"getParentScrollViewRef"],[58,30,34,34],[58,32,34,36,"getParentScrollViewRef"],[58,33,34,36],[58,38,34,42],[59,10,35,16],[59,14,35,20,"_a"],[59,16,35,22],[60,10,36,16],[60,17,36,23],[60,18,36,24,"_a"],[60,20,36,26],[60,23,36,29,"parentRecyclerViewContext"],[60,48,36,54],[60,53,36,59],[60,57,36,63],[60,61,36,67,"parentRecyclerViewContext"],[60,86,36,92],[60,91,36,97],[60,96,36,102],[60,97,36,103],[60,100,36,106],[60,105,36,111],[60,106,36,112],[60,109,36,115,"parentRecyclerViewContext"],[60,134,36,140],[60,135,36,141,"getParentScrollViewRef"],[60,157,36,163],[60,158,36,164],[60,159,36,165],[60,165,36,171],[60,169,36,175],[60,173,36,179,"_a"],[60,175,36,181],[60,180,36,186],[60,185,36,191],[60,186,36,192],[60,189,36,195,"_a"],[60,191,36,197],[60,194,36,200],[60,198,36,204],[61,8,37,12],[61,9,37,13],[62,8,38,12,"getScrollViewRef"],[62,24,38,28],[62,26,38,30,"getScrollViewRef"],[62,27,38,30],[62,32,38,36],[63,10,39,16],[63,14,39,20,"_a"],[63,16,39,22],[64,10,40,16],[64,17,40,23],[64,18,40,24,"_a"],[64,20,40,26],[64,23,40,29,"parentRecyclerViewContext"],[64,48,40,54],[64,53,40,59],[64,57,40,63],[64,61,40,67,"parentRecyclerViewContext"],[64,86,40,92],[64,91,40,97],[64,96,40,102],[64,97,40,103],[64,100,40,106],[64,105,40,111],[64,106,40,112],[64,109,40,115,"parentRecyclerViewContext"],[64,134,40,140],[64,135,40,141,"getScrollViewRef"],[64,151,40,157],[64,152,40,158],[64,153,40,159],[64,159,40,165],[64,163,40,169],[64,167,40,173,"_a"],[64,169,40,175],[64,174,40,180],[64,179,40,185],[64,180,40,186],[64,183,40,189,"_a"],[64,185,40,191],[64,188,40,194],[64,192,40,198],[65,8,41,12],[65,9,41,13],[66,8,42,12,"markChildLayoutAsPending"],[66,32,42,36],[66,34,42,39,"id"],[66,36,42,41],[66,40,42,46],[67,10,43,16,"parentRecyclerViewContext"],[67,35,43,41],[67,40,43,46],[67,44,43,50],[67,48,43,54,"parentRecyclerViewContext"],[67,73,43,79],[67,78,43,84],[67,83,43,89],[67,84,43,90],[67,87,43,93],[67,92,43,98],[67,93,43,99],[67,96,43,102,"parentRecyclerViewContext"],[67,121,43,127],[67,122,43,128,"markChildLayoutAsPending"],[67,146,43,152],[67,147,43,153,"id"],[67,149,43,155],[67,150,43,156],[68,10,44,16,"pendingChildIds"],[68,25,44,31],[68,26,44,32,"add"],[68,29,44,35],[68,30,44,36,"id"],[68,32,44,38],[68,33,44,39],[69,8,45,12],[69,9,45,13],[70,8,46,12,"unmarkChildLayoutAsPending"],[70,34,46,38],[70,36,46,41,"id"],[70,38,46,43],[70,42,46,48],[71,10,47,16,"parentRecyclerViewContext"],[71,35,47,41],[71,40,47,46],[71,44,47,50],[71,48,47,54,"parentRecyclerViewContext"],[71,73,47,79],[71,78,47,84],[71,83,47,89],[71,84,47,90],[71,87,47,93],[71,92,47,98],[71,93,47,99],[71,96,47,102,"parentRecyclerViewContext"],[71,121,47,127],[71,122,47,128,"unmarkChildLayoutAsPending"],[71,148,47,154],[71,149,47,155,"id"],[71,151,47,157],[71,152,47,158],[72,10,48,16],[72,14,48,20,"pendingChildIds"],[72,29,48,35],[72,30,48,36,"has"],[72,33,48,39],[72,34,48,40,"id"],[72,36,48,42],[72,37,48,43],[72,39,48,45],[73,12,49,20,"pendingChildIds"],[73,27,49,35],[73,28,49,36,"delete"],[73,34,49,42],[73,35,49,43,"id"],[73,37,49,45],[73,38,49,46],[74,12,50,20,"recyclerViewContext"],[74,31,50,39],[74,32,50,40,"layout"],[74,38,50,46],[74,39,50,47],[74,40,50,48],[75,10,51,16],[76,8,52,12],[77,6,53,8],[77,7,53,9],[78,4,54,4],[78,5,54,5],[78,7,54,7],[78,8,54,8,"parentRecyclerViewContext"],[78,33,54,33],[78,35,54,35,"pendingChildIds"],[78,50,54,50],[78,52,54,52,"setRenderId"],[78,63,54,63],[78,64,54,64],[78,65,54,65],[79,4,55,4],[79,24,55,12,"React"],[79,29,55,17],[79,30,55,17,"default"],[79,37,55,17],[79,38,55,18,"createElement"],[79,51,55,31],[79,52,55,32,"RecyclerViewContextProvider"],[79,80,55,59],[79,81,55,59,"RecyclerViewContextProvider"],[79,108,55,59],[79,110,55,61],[80,6,55,63,"value"],[80,11,55,68],[80,13,55,70,"recyclerViewContext"],[81,4,55,90],[81,5,55,91],[81,7,55,93,"children"],[81,15,55,101],[81,16,55,102],[82,2,56,0],[82,3,56,1],[82,4,56,2],[83,2,57,0,"LayoutCommitObserver"],[83,22,57,20],[83,23,57,21,"displayName"],[83,34,57,32],[83,37,57,35],[83,59,57,57],[84,0,57,58],[84,3]],"functionMap":{"names":["<global>","React.memo$argument_0","useLayoutEffect$argument_0","useMemo$argument_0","layout","setRenderId$argument_0","getRef","getParentRef","getParentScrollViewRef","getScrollViewRef","markChildLayoutAsPending","unmarkChildLayoutAsPending"],"mappings":"AAA;+CCQ;oBCK;KDK;wCEE;oBCE;4BCC,kBD;aDC;oBGC;aHG;0BIC;aJG;oCKC;aLG;8BMC;aNG;sCOC;aPG;wCQC;aRM;KFE;CDE"},"hasCjsExports":false},"type":"js/module"}]}